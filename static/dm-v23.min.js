require=function e(t,n,i){function a(r,s){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!s&&l)return l(r,!0);if(o)return o(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[r]={exports:{}};t[r][0].call(c.exports,(function(e){var n=t[r][1][e];return a(n||e)}),c,c.exports,e,t,n,i)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)a(i[r]);return a}({1:[function(e,t,n){
/** @preserve
 *
 * @copyright   Copyright (C) 2017 George S. Kong, All Rights Reserved.
 * Use of this source code is governed by a license that can be found in the LICENSE.txt file.
 */
jQuery=$=e("jquery");var i=e("rlite-router");Handlebars=e("handlebars/runtime"),e("bootstrap");var a,o,r,s,l=e("spa-components");const d="dmLastReload";function c(e,t,n){return new Promise((function(n,i){var a=new XMLHttpRequest;a.open("POST",e,!0),a.setRequestHeader("Dm-Client-Version",o),a.setRequestHeader("Content-type","application/json;charset=UTF-8");var r=document.cookie.replace(/(?:(?:^|.*;\s*)dm_csrf\s*\=\s*([^;]*).*$)|^.*$/,"$1");""!=r&&a.setRequestHeader("Dm-Csrf",r),a.onreadystatechange=u,a.dmresolve=n,a.dmreject=i,a.dmurl=e,a.dmstarttime=performance.now(),a.send(t)}))}function u(){var e,t=performance.now();this.readyState===this.DONE&&("true"===this.getResponseHeader("Dm-Client-Update")&&(r=!0),200===this.status?this.dmresolve(this):(418===this.status?(r=!1,oe("Due to a server software upgrade, this page will now be reloaded."),this.dmhandled=!0):403===this.status?(oe("CSRF error. This page will now be reloaded."),this.dmhandled=!0):401===this.status&&(v(),"/c/verifyOK"!==(e=window.location.pathname)&&"/c/ecdone"!==e&&0!==e.indexOf("/c/pwreset/")&&"/c/testdrive"!==e&&l.visit("/c/login"),this.dmhandled=!0),this.dmreject(this)),a.loggedIn&&function(e,t){var n=te(e);if(!m[n])return;var i={endpoint:te(e),timemsec:t},a=new XMLHttpRequest;a.open("POST","/latency",!0),a.setRequestHeader("Content-type","application/json;charset=UTF-8");var o=document.cookie.replace(/(?:(?:^|.*;\s*)dm_csrf\s*\=\s*([^;]*).*$)|^.*$/,"$1");""!=o&&a.setRequestHeader("Dm-Csrf",o);a.send(JSON.stringify(i))}(this.dmurl,Math.floor(t-this.dmstarttime)))}$((function(){(a={}).loggedIn=!1,a.firstName="",a.activities=[],r=!1,$("#dm-client-version").addClass("dm-gone"),o=$("#dm-client-version").text(),s=Handlebars.templates.dialog,Handlebars.registerPartial("signupPartial",Handlebars.templates.partialsignup),Handlebars.registerPartial("versionPartial",Handlebars.templates.partialversion),$("#dm-navbar").html(Handlebars.templates.navbar({})),$("#dm-menu-logout").click((function(){c("/logout","").then((function(){v(),l.replace("/c/login")}),(function(e){e.dmhandled||y("logout error "+e.status.toString()).then((function(){v(),l.replace("/c/login")}))}))})),$(".navbar-nav li a.dropdown-item").click((function(){$(".navbar-collapse").collapse("hide")})),$(".navbar-nav li a.collapser").click((function(){$(".navbar-collapse").collapse("hide")})),$("html").on("click, touchend",(function(e){0==$(e.target).closest(".navbar").length&&$(".navbar-collapse").collapse("hide"),0==$(e.target).closest(".dropdown").length&&$(".dropdown-menu").filter(":visible").first().siblings(".dropdown-toggle").dropdown("toggle")}));const e=i(S,{"/":k,"/c/login":C,"/c/signup":O,"/c/pending":N,"/c/verifyOK":D,"/c/forgot":P,"/c/forgotpending":J,"/c/pwreset/:token":x,"/c/home":R,"/c/about":T,"/c/testdrive":I,"/c/help":H,"/c/contact":M,"/c/plans":L,"/c/plandetails/:plan":j,"/c/planday/:plan":Y,"/c/version/:plan":A,"/c/profile":F,"/c/ecpending":G,"/c/ecdone":K,"/c/badprovider":B});var t=window.location.pathname,n=l.init({router:e,logging:!1});c("/getstate","").then((function(e){return a.loggedIn=!0,f(JSON.parse(e.responseText)),e}),(function(e){return e})).then((function(i){window.location.pathname===t&&(e(t),null!=n&&l.scrollTo(n.scrollx,n.scrolly)),g(),h()}))}));var m={login:!0,getdoc:!0,getstate:!0,actadd:!0,actdel:!0,actjump:!0,actver:!0,daychange:!0,accreset:!0,accenab:!0,userget:!0,userset:!0};function p(e,t,n){t.dmhandled||(t.responseText?$(e).html(t.responseText):$(e).html(n+" - error "+t.status.toString()),$(e).show())}function f(e){e.hasOwnProperty("firstname")&&(a.firstName=e.firstname),e.hasOwnProperty("activities")&&(a.activities=e.activities),g()}function v(){a.loggedIn=!1,g()}function g(){a.loggedIn?($("#user-dropdown").html(a.firstName),$("#nav-user-dropdown").removeClass("dm-gone"),$("#nav-login").addClass("dm-gone"),$("#nav-contact").removeClass("dm-gone")):($("#nav-user-dropdown").addClass("dm-gone"),$("#nav-login").removeClass("dm-gone"),$("#nav-contact").addClass("dm-gone"))}function h(){$("#dm-home-visible").length>0&&l.visit("/c/home");var e=new Date,t=1e3*(86400-(60*(60*e.getHours()+e.getMinutes())+e.getSeconds())),n=6e4+Math.floor(19*Math.random()*6e4);setTimeout(h,t+n)}function b(e){$("#main").html(e)}function y(e){return new Promise((function(t){$("#dm-modal").html(Handlebars.templates.modalalert({msg:e})),$(".modal").modal(),$(".modal").on("hidden.bs.modal",(function(){$("#dm-modal").html(""),t()}))}))}function w(e){return new Promise((function(t,n){var i=!1;$("#dm-modal").html(Handlebars.templates.modalconfirm({msg:e})),$("#dm-modal-ok").click((function(){i=!0})),$(".modal").modal(),$(".modal").on("hidden.bs.modal",(function(){$("#dm-modal").html(""),i?t():n()}))}))}function k(){a.loggedIn?l.visit("/c/home"):l.visit("/c/login")}function S(){document.title="Delight/Meditate - page not found",b("<br/><h1>PAGE NOT FOUND</h1>")}function O(){document.title="Delight/Meditate - signup",b(Handlebars.templates.signup({})),$("#signup-alert").hide(),$("#dm-signup-button").click((function(){U()})),$("#dm-login-button").click((function(){l.visit("/c/login")})),$("#dm-signup-panel").on("keydown",(function(e){13===e.keyCode&&(e.preventDefault(),U())}))}function N(){document.title="Delight/Meditate - email sent",b(s({msg:"You will receive an email shortly. Please follow its instructions, to activate your account."})),$("#dm-dialog-button").addClass("dm-gone")}function D(){document.title="Delight/Meditate - signup complete",b(s({msg:"Your account has been activated and is ready for you to log in!",buttonlabel:"Go to login page"})),$("#dm-dialog-button button").click((function(){l.visit("/c/login")})),$("#dm-dialog-button").removeClass("dm-gone")}function C(){r&&(r=!1,re("Due to a server software upgrade, this page will now be reloaded.")),document.title="Delight/Meditate - login",b(Handlebars.templates.login({})),$("#login-alert").hide(),$("#dm-about-button").click((function(){l.visit("/c/about")})),$("#dm-test-drive-button").click((function(){l.visit("/c/testdrive")})),$("#dm-login-button").click((function(){V()})),$("#dm-signup-button").click((function(){l.visit("/c/signup")})),$("#dm-login-panel").on("keydown",(function(e){13===e.keyCode&&(e.preventDefault(),V())}))}function P(){document.title="Delight/Meditate - forgot password",b(Handlebars.templates.forgot({})),$("#forgot-alert").hide(),$("#dm-forgot-button").click((function(){!function(){$("#forgot-alert").hide();var e={email:$("#prEmail").val()};c("/pwforgot",JSON.stringify(e)).then((function(){l.visit("/c/forgotpending")}),(function(e){p("#forgot-alert",e,"password recovery failed")}))}()}))}function J(){document.title="Delight/Meditate - password reset email sent",b(s({msg:"You will receive an email shortly. Please follow its instructions, to reset your password. If you don't see the email, check your spam folder."})),$("#dm-dialog-button").addClass("dm-gone")}function x(e){document.title="Delight/Meditate - password reset";var t=e.token;b(Handlebars.templates.pwreset(t)),$("#pwreset-alert").hide(),$("#dm-button-pwreset").click((function(){!function(){$("#pwreset-alert").hide();var e={token:$("#prToken").val(),password:$("#prPass").val()};c("/dorecover",JSON.stringify(e)).then((function(){y("Your password has been changed. Please log in with your new password.").then((function(){l.visit("/c/login")}))}),(function(e){p("#pwreset-alert",e,"password reset failed")}))}()}))}function T(){document.title="Delight/Meditate - about",b(Handlebars.templates.about({})),a.loggedIn?$(".dm-visitor-only").addClass("dm-gone"):$("#dm-test-drive-button").click((function(){l.visit("/c/testdrive")})),$("#dm-help-button").click((function(){l.visit("/c/help")}))}function H(){document.title="Delight/Meditate - help",b(Handlebars.templates.help({}))}function M(){document.title="Delight/Meditate - contact",b(Handlebars.templates.contact({})),$("#contact-alert").hide(),$("#dm-contact-button").click((function(){!function(){$("#contact-alert").hide();var e={msg:$("#contactText").val()};c("/contact",JSON.stringify(e)).then((function(){y("Your message has been sent.").then((function(){window.history.back()}))}),(function(e){p("#contact-alert",e,"problem sending message")}))}()})),$("#dm-contact-cancel").click((function(){window.history.back()}))}function R(e,t,n,i,o,d,u,m){r&&(r=!1,re("Due to a server software upgrade, this page will now be reloaded."));var p=!1;if(void 0!==i&&i&&(p=!0),0==a.activities.length)return document.title="Delight/Meditate - home",b(s({msg:"You don't currently have any reading plans.",buttonlabel:"Add a plan"})),$("#dm-dialog-button button").click((function(){l.visit("/c/plans")})),void $("#dm-dialog-button").removeClass("dm-gone");var f=!1;void 0!==m&&(f=!0);var v=[],g=0,h=a.activities.map((function(e){return de("plan",e.plan).then((function(e){var t=JSON.parse(e);return Promise.all(t.streams.map(ce))}))}));h.push(de("queries","providers")),Promise.all(h).then((function(){for(var e,t,n,i=JSON.parse(le("queries","providers")),r=0;r<a.activities.length;r++){var s=a.activities[r],h=JSON.parse(le("plan",s.plan));if(s.plantitle=h.title,s.actindex=r,s.status="",s.statusgone="",s.ontrack="",s.accvisible){s.showduedate="Turn off Accountability",s.armenuhide="";var k=(ie()-s.accstartdate+1)*s.day.length-q(s);s.status=k>0?"Readings due now: "+k:0===k?"You are up to date.":"You are ahead by: "+-k,k<=0&&(s.ontrack="dm-panel-ontrack")}else s.showduedate="Turn on Accountability",s.armenuhide="dm-gone",s.statusgone="dm-gone";s.daysleft=Math.ceil((h.days*s.day.length-q(s))/s.day.length),s.readings=[];for(var S=0;S<s.day.length;S++){var O=s.day[S],N=le("stream",h.streams[S]).split("\n"),D=O==h.days+1?"[done]":N[O-1],C={};if(C.plan=s.plan,C.plandays=h.days,C.actindex=r,C.streamindex=S,C.citleft=C.citright=pe(D),C.tctxl=C.tctxr="Day "+O,f&&r===o&&S===d){var P="Day "+u+":";"L"===m?(C.citleft=pe(N[u-1]),C.tctxl=P):(C.citright=pe(N[u-1]),C.tctxr=P)}C.ltriangle=C.rtriangle="dm-triangle",1==O&&(C.ltriangle="dm-triangle-greyed"),O==h.days+1&&(C.rtriangle="dm-triangle-greyed");for(var J=!1,x=0;x<i.providers.length;x++)if(i.providers[x].provider==s.provider){C.citurlindex=g,v[g++]=(e=i.providers[x].url,t=s.version,n=D,void 0,e.replace("{{version}}",t).replace("{{citation}}",n)),J=!0;break}J||(v[g++]="/c/badprovider"),s.readings[S]=C}a.activities[r]=s}if(b(Handlebars.templates.home(a)),p?(document.title="Delight/Meditate - test drive",$(".dm-home-plan-dropdown").remove(),E(),$("#dm-testdrive").removeClass("dm-gone"),$("#dm-testdrive-ok").click((function(){window.history.back()}))):(document.title="Delight/Meditate - home",$(".dm-home-testdrive-dropdown").remove()),$(".dm-cit-left").click((function(){ee(v[Number($(this).closest(".dm-citation").prop("id").substr(7))])})),f){var T="";T="L"===m?"dm-wipeleft":"dm-wiperight";var H=$("#dm-cit-L-"+o+"-"+d),M=$("#dm-cit-R-"+o+"-"+d),I=H.clone(!0).addClass(T),L=M.clone(!0).addClass(T);"L"===m&&(I.addClass("dm-noclick"),L.removeClass("dm-noclick"),L.click((function(){ee(v[Number($(this).closest(".dm-citation").prop("id").substr(7))])}))),I.one("webkitAnimationEnd oanimationend msAnimationEnd animationend",(function(e){var t;p&&(t=500,new Promise((function(e){setTimeout((function(){e()}),t)}))).then((function(){switch(q(a.activities[0])){case 0:a.testdrivemsg=1;break;case 1:a.testdrivemsg=2;break;default:a.testdrivemsg=3}E()}))})),M.before(L),M.remove(),H.before(I),H.remove();var j=$("#dm-tctx-L-"+o+"-"+d),Y=$("#dm-tctx-R-"+o+"-"+d),A=j.clone(!0).addClass(T),F=Y.clone(!0).addClass(T);j.before(A),j.remove(),Y.before(F),Y.remove()}$(".dm-acctoggle").click((function(){!function(e){var t=Z(e);if(-1===t)return;var n=!a.activities[t].accvisible,i={plan:e,enabled:n};c("/accenab",JSON.stringify(i)).then((function(t){Q(e,t.responseText),R()}),(function(e){e.dmhandled||y("couldn't toggle accountability - "+e.status.toString())}))}($(this).prop("id").substr(13))})),$(".dm-accreset").click((function(){var e;e=$(this).prop("id").substr(12),w("Reset the due dates for this plan, to make your current reading(s) due today?").then((function(){var t={plan:e,today:ie()};c("/accreset",JSON.stringify(t)).then((function(t){Q(e,t.responseText),R()}),(function(e){e.dmhandled||y("couldn't reset accountability - "+e.status.toString())}))}))})),$(".dm-delplan").click((function(){var e;e=$(this).prop("id").substr(11),w("Delete this plan? (If you change your mind, you can add it again at any time.)").then((function(){var t={plan:e};c("/actdel",JSON.stringify(t)).then((function(){var t=Z(e);-1!==t&&(a.activities.splice(t,1),l.replace("/c/home"))}),(function(e){e.dmhandled||y("couldn't delete plan - "+e.status.toString())}))}))})),$(".dm-move").click((function(){var e=$(this).prop("id").split("-"),t="L"===e[1]?-1:1,n=Number(e[2]),i=Number(e[3]),o=Number(e[4]);if(p){var r=a.activities[n].day[i];-1==t&&r>1&&(a.activities[n].day[i]--,R({},{},{},!0,n,i,r,"R")),1==t&&r<=o&&(a.activities[n].day[i]++,R({},{},{},!0,n,i,r,"L"))}else!function(e,t,n){var i=a.activities[e].day[t],o=a.activities[e].plan,r={plan:o,streamindex:t,prevday:i,delta:n,today:ie()};c("/daychange",JSON.stringify(r)).then((function(n){Q(o,n.responseText);var r=a.activities[e].day[t];r===i+1?R({},{},{},!1,e,t,i,"L"):r===i-1?R({},{},{},!1,e,t,i,"R"):R()}),(function(e){e.dmhandled||y("move failed - "+e.status.toString()+" - "+e.responseText)}))}(n,i,t)}))}))}function q(e){for(var t=0,n=0;n<e.day.length;n++)t+=e.day[n]-1;return t}function I(){a.activities=[{plan:"mcheyne-2yr-2perday",day:[1,1],version:"ESV",provider:"BibleGateway.com-PRINT",accstartdate:ie()-1+1,accvisible:!0}],a.testdrivemsg=1,R(0,0,0,!0)}function E(){for(var e=1;e<=3;e++)a.testdrivemsg===e?$("#dm-testdrive-msg-"+e).removeClass("dm-gone"):$("#dm-testdrive-msg-"+e).addClass("dm-gone")}function L(){de("queries","plandescs").then((function(e){var t=JSON.parse(e);if(document.title="Delight/Meditate - plans",b(Handlebars.templates.plans(t)),$(".dm-plan-details-button").click((function(){l.visit("/c/plandetails/"+$(this).prop("id").substr(7))})),a.loggedIn){$(".dm-plan-add-button button").click((function(){var e,t;e=$(this).prop("id").substr(11),t={plan:e,today:ie()},c("/actadd",JSON.stringify(t)).then((function(e){f(JSON.parse(e.responseText)),l.visit("/c/home")}),(function(e){e.dmhandled||y("couldn't add plan - "+e.status.toString())}))}));for(var n=0;n<a.activities.length;n++)$("#pb-"+a.activities[n].plan).addClass("dm-gone")}else $(".dm-plan-add-button").addClass("dm-gone"),$(".dm-plan-login-button").removeClass("dm-gone"),$(".dm-plan-login-button button").click((function(){l.visit("/c/login")}))}))}function j(e){var t,n;de("plan",e.plan).then((function(e){var i=JSON.parse(e);return t=i.days,n=i.title,Promise.all(i.streams.map(ce))})).then((function(e){for(var i=[],a=0;a<e.length;a++)i[a]=e[a].split("\n");var o={};o.title=n,o.days=t,o.rows=[];for(var r=0;r<t;r++){var s={};s.day=r+1,s.readings=[];for(var l=0;l<e.length;l++)s.readings[l]=i[l][r];o.rows[r]=s}document.title="Delight/Meditate - plan details",b(Handlebars.templates.plandetails(o)),$("#dm-plandetails-ok").click((function(){window.history.back()}))}))}function Y(e){var t=e.plan,n=Z(t);-1!==n&&de("plan",t).then((function(e){var i=JSON.parse(e),o={};o.plan=t,o.totaldays=i.days,o.plantitle=i.title,o.day=a.activities[n].day[0];for(var r=1;r<a.activities[n].day.length;r++){var s=a.activities[n].day[r];s<o.day&&(o.day=s)}document.title="Delight/Meditate - jump to a specific day",b(Handlebars.templates.planday(o)),$(".dm-planday").click((function(){z($(this).prop("id").substr(11))})),$("#dm-planday-panel").on("keydown",(function(e){13===e.keyCode&&(e.preventDefault(),z($(this).find(".dm-planday").prop("id").substr(11)))})),$(".dm-plandet").click((function(){l.visit("/c/plandetails/"+$(this).prop("id").substr(11))})),$("#dm-planday-cancel").click((function(){window.history.back()})),$("#planday-alert").hide()}))}function A(e){var t=e.plan,n=Z(t);-1!==n&&Promise.all([de("plan",t),de("queries","providers")]).then((function(e){var i=JSON.parse(e[0]),o={};o.plan=t,o.plantitle=i.title,o.version=a.activities[n].version,o.choices=W(e[1],a.activities[n].provider),document.title="Delight/Meditate - change Bible version",b(Handlebars.templates.version(o)),$(".dm-newver").click((function(){X($(this).prop("id").substr(10))})),$("#dm-version-panel").on("keydown",(function(e){13===e.keyCode&&(e.preventDefault(),X($(this).find(".dm-newver").prop("id").substr(10)))})),$("#dm-newver-cancel").click((function(){window.history.back()})),$("#version-alert").hide()}))}function F(){Promise.all([c("/userget",""),de("queries","providers")]).then((function(e){var t=JSON.parse(e[0].responseText),n={};n.firstname=t.firstname,n.lastname=t.lastname,n.email=t.email,n.version=t.version,n.choices=W(e[1],t.provider),document.title="Delight/Meditate - profile",b(Handlebars.templates.profile(n)),$("#profile-alert").hide(),$("#dm-user-profile").click((function(){_()})),$("#dm-profile-panel").on("keydown",(function(e){13===e.keyCode&&(e.preventDefault(),_())})),$("#dm-profile-cancel").click((function(){window.history.back()}))}),(function(e){e[0].dmhandled||(e[0].hasOwnProperty("responseText")?y("profile fetch failed - "+e.responseText):e[0].hasOwnProperty("status")?y("profile fetch failed - "+e.status.toString()):y("profile fetch failed"))}))}function G(){document.title="Delight/Meditate - email change sent",b(s({msg:"You will receive an email shortly. Please follow its instructions, to verify your new email address.",buttonlabel:"OK"})),$("#dm-dialog-button button").click((function(){l.visit("/c/home")})),$("#dm-dialog-button").removeClass("dm-gone")}function K(){document.title="Delight/Meditate - email change completed",b(s({msg:"Your email address change has been confirmed! Please log in with your new email address.",buttonlabel:"Go to login page"})),$("#dm-dialog-button button").click((function(){l.visit("/c/login")})),$("#dm-dialog-button").removeClass("dm-gone")}function B(){document.title="Delight/Meditate - problem with Bible provider",b(s({msg:"There is a problem with this Bible provider. Please click the 3-dot menu for this plan, choose Change Bible Version, and select a new Bible provider.",buttonlabel:"OK"})),$("#dm-dialog-button button").click((function(){window.close()})),$("#dm-dialog-button").removeClass("dm-gone")}function U(){$("#signup-alert").hide();var e={firstname:$("#sfFirst").val(),lastname:$("#sfLast").val(),email:$("#sfEmail").val(),password:$("#sfPass").val()};c("/signup",JSON.stringify(e)).then((function(){l.replace("/c/pending")}),(function(e){p("#signup-alert",e,"signup failed")}))}function V(){$("#login-alert").hide();var e={email:$("#lfEmail").val(),password:$("#lfPass").val(),keep:$("#lfKeep").is(":checked")};c("/login",JSON.stringify(e)).then((function(e){a.loggedIn=!0,f(JSON.parse(e.responseText)),l.visit("/c/home")}),(function(e){p("#login-alert",e,"login failed")}))}function _(){var e=$("#sfFirst").val(),t={email:$("#sfEmail").val(),oldpass:$("#oldPass").val(),newpass:$("#newPass").val(),firstname:e,lastname:$("#sfLast").val(),version:$("#bvVersion").val(),provider:$("#bvProvider").val()};c("/userset",JSON.stringify(t)).then((function(e){var t=JSON.parse(e.responseText);a.firstName=t.firstname,g(),t.logout&&v(),t.emailsent?l.visit("/c/ecpending"):t.pwchanged?y("Your password has been changed. Please log in with your new password.").then((function(){l.visit("/c/login")})):l.visit("/c/home")}),(function(e){p("#profile-alert",e,"problem updating profile")}))}function z(e){var t={plan:e,day:Number($("#pdfDay").val()),today:ie()};c("/actjump",JSON.stringify(t)).then((function(t){Q(e,t.responseText),window.history.back()}),(function(e){p("#planday-alert",e,"could not change day")}))}function X(e){var t={plan:e,provider:$("#bvProvider").val(),version:$("#bvVersion").val()};c("/actver",JSON.stringify(t)).then((function(){var n=Z(e);-1!==n&&(a.activities[n].provider=t.provider,a.activities[n].version=t.version,window.history.back())}),(function(e){p("#version-alert",e,"could not change version")}))}function Z(e){for(var t=0;t<a.activities.length;t++)if(a.activities[t].plan===e)return t;return console.log("delightmeditate - actindex("+e+") - not found"),-1}function Q(e,t){var n=JSON.parse(t),i=Z(e);if(-1===i)return 0;a.activities[i].day=n.day,a.activities[i].accstartdate=n.accstartdate,a.activities[i].accvisible=n.accvisible}function W(e,t){for(var n=JSON.parse(e),i=[],a=0;a<n.providers.length;a++)i[a]={},i[a].provider=n.providers[a].provider,i[a].selected="",i[a].provider===t&&(i[a].selected="selected");return i}function ee(e){window.open(e,"_blank")}function te(e){"/"===e.charAt(0)&&(e=e.substr(1));var t=e.indexOf("/");return-1!=t&&(e=e.substr(0,t)),e}function ne(){var e=(new Date).getTimezoneOffset();return Math.floor(Date.now()/1e3-60*e)}function ie(){return Math.floor(ne()/86400)}function ae(){localStorage.setItem(d,ne().toString()),history.replaceState({},"","/"),window.location.reload(!0)}function oe(e){y(e).then((function(){ae()}))}function re(e){var t=localStorage.getItem(d);if(null!=t){var n=parseInt(t,10);ne()-n<3600?y(e).then((function(){ae()})):ae()}else ae()}var se={};function le(e,t){return se[e+"/"+t]}function de(e,t){var n=e+"/"+t,i="exp/"+n;if(se.hasOwnProperty(i)&&se[i]>ne()&&se.hasOwnProperty(n))return Promise.resolve(se[n]);var a,r=localStorage.getItem(i);if(null!=r&&Number(r)>ne()){var s=localStorage.getItem(n);if(null!=s)return se[n]=s,se[i]=Number(r),Promise.resolve(s)}return(a="/getdoc/"+e+"/"+t,new Promise((function(e,t){var n=new XMLHttpRequest;n.open("GET",a),n.setRequestHeader("Dm-Client-Version",o),n.onreadystatechange=u,n.dmresolve=e,n.dmreject=t,n.dmurl=a,n.dmstarttime=performance.now(),n.send()}))).then((function(e){var t=JSON.parse(e.responseText),a=t.ttl+ne();return localStorage.setItem(n,t.data),localStorage.setItem(i,a.toString()),se[n]=t.data,se[i]=a,t.data}),(function(e){return e.dmhandled?"":y("doc not found - "+n+" - "+e.status.toString()).then((function(){return""}))}))}function ce(e){return de("stream",e)}var ue=["1Chronicles","1Corinthians","1John","1Kings","1Peter","1Samuel","1Thess","1Timothy","2Chronicles","2Corinthians","2John","2Kings","2Peter","2Samuel","2Thess","2Timothy","3John","Acts","Amos","Colossians","Daniel","Deuteronomy","Ecclesiastes","Ephesians","Esther","Exodus","Ezekiel","Ezra","Galatians","Genesis","Habakkuk","Haggai","Hebrews","Hosea","Isaiah","James","Jeremiah","Job","Joel","John","Jonah","Joshua","Jude","Judges","Lamentations","Leviticus","Luke","Malachi","Mark","Matthew","Micah","Nahum","Nehemiah","Numbers","Obadiah","Philippians","Philemon","Proverbs","Psalm","Revelation","Romans","Ruth","Song","Titus","Zechariah","Zephaniah"];function me(e){for(var t=0;t<ue.length;t++)if(0===ue[t].lastIndexOf(e,0))return ue[t];return e}function pe(e){var t=e.indexOf(" ");return-1===t?me(e):me(e.slice(0,t))+"<br/>"+e.slice(t+1)}},{bootstrap:3,"handlebars/runtime":4,jquery:25,"rlite-router":27,"spa-components":28}]},{},[1]);